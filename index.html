<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Click Game</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            text-align: center;
        }

        /* ===== MENU ===== */
        #menu {
            position: fixed;
            inset: 0;
            background: #111;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 20px;
            z-index: 10;
        }

        #menu button {
            font-size: 22px;
            padding: 15px 40px;
            cursor: pointer;
        }

        /* ===== HUD ===== */
        #hud {
            display: flex;
            justify-content: space-around;
            font-size: 20px;
            margin: 10px 0;
        }

        /* ===== GAME ===== */
        #gameArea {
            position: relative;
            height: 80vh;
            border: 2px solid #000;
            overflow: hidden;
        }

        #btn {
            position: absolute;
            padding: 15px 25px;
            font-size: 18px;
            cursor: pointer;
        }

        /* ===== GAME OVER ===== */
        #gameOver {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.85);
            color: white;
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            gap: 20px;
            font-size: 26px;
            z-index: 20;
        }

        #gameOver button {
            font-size: 20px;
            padding: 12px 30px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<!-- MENU -->
<div id="menu">
    <h1>üéÆ CH·ªåN ƒê·ªò KH√ì</h1>
    <button onclick="startGame(1)">D·ªÖ (15s)</button>
    <button onclick="startGame(2)">Trung b√¨nh (12s)</button>
    <button onclick="startGame(3)">Kh√≥ (10s)</button>
</div>

<!-- HUD -->
<div id="hud">
    <div>‚è±Ô∏è Th·ªùi gian: <span id="time">0</span></div>
    <div>‚≠ê ƒêi·ªÉm: <span id="score">0</span></div>
</div>

<!-- GAME -->
<div id="gameArea">
    <button id="btn" onclick="clickBtn()">CLICK</button>
</div>

<!-- GAME OVER -->
<div id="gameOver">
    <div>üíÄ GAME OVER</div>
    <div>ƒêi·ªÉm c·ªßa b·∫°n: <span id="finalScore"></span></div>
    <button onclick="restartGame()">üîÅ Ch∆°i l·∫°i</button>
</div>

<script>
    const btn = document.getElementById("btn");
    const gameArea = document.getElementById("gameArea");
    const menu = document.getElementById("menu");
    const gameOverScreen = document.getElementById("gameOver");

    let score = 0;
    let timeLeft = 0;
    let mode = 1;
    let timer = null;
    let autoMove = null;
    let playing = false;

    function randomPosition() {
        const maxX = gameArea.clientWidth - btn.offsetWidth;
        const maxY = gameArea.clientHeight - btn.offsetHeight;
        btn.style.left = Math.random() * maxX + "px";
        btn.style.top = Math.random() * maxY + "px";
    }

    function startGame(selectedMode) {
        mode = selectedMode;
        score = 0;
        playing = true;

        if (mode === 1) timeLeft = 15;
        if (mode === 2) timeLeft = 12;
        if (mode === 3) timeLeft = 10;

        document.getElementById("score").innerText = score;
        document.getElementById("time").innerText = timeLeft;

        menu.style.display = "none";
        gameOverScreen.style.display = "none";

        clearInterval(timer);
        clearInterval(autoMove);

        timer = setInterval(() => {
            timeLeft--;
            document.getElementById("time").innerText = timeLeft;
            if (timeLeft <= 0) endGame();
        }, 1000);

        randomPosition();

        if (mode === 3) {
            autoMove = setInterval(randomPosition, 1000);
        }
    }

    function clickBtn() {
        if (!playing) return;

        score++;
        document.getElementById("score").innerText = score;

        if (mode === 2) randomPosition();
    }

    function endGame() {
        playing = false;
        clearInterval(timer);
        clearInterval(autoMove);

        document.getElementById("finalScore").innerText = score;
        gameOverScreen.style.display = "flex";
    }

    function restartGame() {
        clearInterval(timer);
        clearInterval(autoMove);
        playing = false;

        menu.style.display = "flex";
        gameOverScreen.style.display = "none";
    }
</script>

</body>
</html>
